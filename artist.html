<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ü—Ä–æ—Ñ–∏–ª—å –∞—Ä—Ç–∏—Å—Ç–∞ ‚Äî NikoFlow</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  <style>
    body {
      background: linear-gradient(to right, #121212, #1f1f1f);
      color: #eee;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      min-height: 100vh;
      padding: 2rem 1rem;
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
    }
    .btn-back {
      background-color: #7c3aed;
      padding: 0.6rem 1.2rem;
      border-radius: 0.5rem;
      font-weight: 600;
      cursor: pointer;
      transition: background-color 0.25s ease;
      user-select: none;
      display: inline-block;
      margin-bottom: 2rem;
      color: white;
      border: none;
    }
    .btn-back:hover {
      background-color: #a78bfa;
    }
    .artist-header {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 2rem;
      margin-bottom: 2rem;
    }
    .artist-image {
      width: 280px;
      height: 280px;
      border-radius: 1.5rem;
      object-fit: cover;
      box-shadow: 0 8px 32px rgba(124, 58, 237, 0.7);
      flex-shrink: 0;
    }
    .artist-info {
      flex: 1;
      min-width: 200px;
    }
    .artist-name {
      font-size: 3rem;
      font-weight: 900;
      margin-bottom: 0.4rem;
      user-select: none;
    }
    .badge {
      background-color: #dc2626;
      padding: 0.3rem 0.6rem;
      font-size: 0.9rem;
      border-radius: 0.5rem;
      font-weight: 700;
      display: inline-block;
      margin-bottom: 1rem;
      user-select: none;
    }
    .buttons {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }
    a.spotify {
      background-color: #1db954;
      padding: 0.75rem 1.8rem;
      border-radius: 2rem;
      font-weight: 700;
      color: white;
      text-decoration: none;
      display: inline-block;
      transition: background-color 0.3s ease;
      user-select: none;
    }
    a.spotify:hover {
      background-color: #17a44c;
    }
    a.wikipedia {
      background-color: #3366cc;
      padding: 0.75rem 1.8rem;
      border-radius: 2rem;
      font-weight: 700;
      color: white;
      text-decoration: none;
      display: inline-block;
      transition: background-color 0.3s ease;
      user-select: none;
    }
    a.wikipedia:hover {
      background-color: #254b9a;
    }
    h2.songs-title {
      margin-top: 2rem;
      font-size: 1.8rem;
      font-weight: 700;
      user-select: none;
    }
    ul.songs {
      list-style: none;
      padding-left: 0;
      margin-top: 1rem;
      font-size: 1.2rem;
    }
    ul.songs li {
      margin-bottom: 0.5rem;
      padding-left: 1.4rem;
      position: relative;
      user-select: none;
    }
    ul.songs li::before {
      content: "üéµ";
      position: absolute;
      left: 0;
    }
    .wiki-section {
      margin-top: 3rem;
      background: #222222bb;
      padding: 1.5rem 2rem;
      border-radius: 1rem;
      box-shadow: 0 4px 20px rgba(124, 58, 237, 0.4);
      user-select: text;
    }
    .wiki-section h3 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
      font-weight: 700;
      user-select: none;
    }
    .loading {
      color: #aaa;
      font-style: italic;
      margin-top: 1rem;
      user-select: none;
    }
    @media (max-width: 640px) {
      .artist-header {
        flex-direction: column;
        align-items: center;
      }
      .artist-image {
        width: 220px;
        height: 220px;
      }
      .artist-name {
        font-size: 2.2rem;
        text-align: center;
      }
    }
  </style>
</head>
<body>

  <div class="container">

    <button class="btn-back" onclick="history.back()">‚Üê –ù–∞–∑–∞–¥</button>

    <div id="artist-profile" class="">

      <!-- –ü—Ä–æ—Ñ–∏–ª—å –∞—Ä—Ç–∏—Å—Ç–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è —Å—é–¥–∞ -->

    </div>

  </div>

  <script>
    // –î–∞–Ω–Ω—ã–µ –∞—Ä—Ç–∏—Å—Ç–æ–≤
    const artists = [
      {
        name: "Noize MC",
        image: "https://upload.wikimedia.org/wikipedia/commons/3/38/Noize_MC_2014.jpg",
        songs: ["–í—Å–µ–ª–µ–Ω–Ω–∞—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–∞", "–í—ã–¥—ã—Ö–∞–π"],
        spotify: "https://open.spotify.com/artist/6PoSJbLrCuQ4gTWDNaBESz",
        wikipedia: "https://ru.wikipedia.org/wiki/Noize_MC",
        foreignAgent: true
      },
      {
        name: "–ú–æ–Ω–µ—Ç–æ—á–∫–∞",
        image: "https://upload.wikimedia.org/wikipedia/commons/e/ed/Monetochka_2021.jpg",
        songs: ["–ö–∞–∂–¥—ã–π —Ä–∞–∑", "–ù–µ—Ç –º–æ–Ω–µ—Ç"],
        spotify: "https://open.spotify.com/artist/2nlfoOBzJ2fD2bnz1WylkI",
        wikipedia: "https://ru.wikipedia.org/wiki/–ú–æ–Ω–µ—Ç–æ—á–∫–∞",
        foreignAgent: true
      }
    ];

    // –ü–æ–ª—É—á–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä –∏–∑ URL
    function getQueryParam(param) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(param);
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –æ–ø–∏—Å–∞–Ω–∏—è –∏–∑ –í–∏–∫–∏–ø–µ–¥–∏–∏ —á–µ—Ä–µ–∑ API
    async function fetchWikiExtract(title) {
      const endpoint = `https://ru.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(title)}`;
      try {
        const response = await fetch(endpoint);
        if (!response.ok) throw new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö');
        const data = await response.json();
        return data.extract_html || data.extract || '–û–ø–∏—Å–∞–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.';
      } catch (e) {
        return '<p>–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ —Å –í–∏–∫–∏–ø–µ–¥–∏–∏.</p>';
      }
    }

    const artistNameRaw = getQueryParam('name');
    const artistName = artistNameRaw ? decodeURIComponent(artistNameRaw) : null;

    const profileDiv = document.getElementById('artist-profile');

    if (!artistName) {
      profileDiv.innerHTML = '<p>–ê—Ä—Ç–∏—Å—Ç –Ω–µ –≤—ã–±—Ä–∞–Ω. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É.</p>';
    } else {
      const artist = artists.find(a => a.name === artistName);
      if (!artist) {
        profileDiv.innerHTML = `<p>–ê—Ä—Ç–∏—Å—Ç —Å –∏–º–µ–Ω–µ–º "${artistName}" –Ω–µ –Ω–∞–π–¥–µ–Ω.</p>`;
      } else {
        // –ü–æ–∫–∞–∑–∞—Ç—å –±–∞–∑–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å
        profileDiv.innerHTML = `
          <div class="artist-header">
            <img src="${artist.image}" alt="${artist.name}" class="artist-image" />
            <div class="artist-info">
              <h1 class="artist-name">${artist.name}</h1>
              ${artist.foreignAgent ? '<div class="badge">–ü—Ä–∏–∑–Ω–∞–Ω –∏–Ω–æ–∞–≥–µ–Ω—Ç–æ–º –≤ –†–§</div>' : ''}
              <div class="buttons">
                <a href="${artist.spotify}" target="_blank" rel="noopener" class="spotify" aria-label="Spotify –ø—Ä–æ—Ñ–∏–ª—å">Spotify</a>
                <a href="${artist.wikipedia}" target="_blank" rel="noopener" class="wikipedia" aria-label="–í–∏–∫–∏–ø–µ–¥–∏—è –ø—Ä–æ—Ñ–∏–ª—å">Wikipedia</a>
              </div>
            </div>
          </div>

          <h2 class="songs-title">–ü–µ—Å–Ω–∏:</h2>
          <ul class="songs">
            ${artist.songs.map(song => `<li>${song}</li>`).join('')}
          </ul>

          <section class="wiki-section" aria-live="polite">
            <h3>–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑ –í–∏–∫–∏–ø–µ–¥–∏–∏</h3>
            <div id="wiki-content" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
          </section>
        `;

        // –ó–∞–≥—Ä—É–∑–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑ –í–∏–∫–∏–ø–µ–¥–∏–∏
        fetchWikiExtract(artist.name).then(html => {
          document.getElementById('wiki-content').innerHTML = html;
        });
      }
    }
  </script>

</body>
</html>
